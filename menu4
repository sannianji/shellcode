#!/bin/bash
#using kdialog to create a menu

temp=$(mktemp -t temp.XXXXXX)

temp2=$(mktemp -t temp2.XXXXXX)

function diskspace
{
	df -k > $temp
	kdialog --textbox $temp 1000 50
}

function whoseon
{
	who > $temp
	kdialog --textbox $temp 500 50
}

function memusage
{
	cat /proc/meminfo > $temp
	kdialog --textbox $temp 300 500
}

while [ 1 ]
do
	kdialog --menu "Sys Admin Menu" 1 "Dispalay diskspace" 2 "Display users" 3 "Display memory usage" 0 "Exit" > $temp2
	if  [ $? -eq 1 ]
	then 
		break
	fi

	sel=$(cat $temp2 )
	case $sel in
	1)
		diskspace ;;
	2)
		whoseon ;;
	3)
		memusage ;;
	0)
		break ;;
	*)
		kdialog --msgbox "Sorry, invalid selection"
	esac
done
rm -f $temp
rm -f $temp2
